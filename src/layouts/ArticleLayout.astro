---
import BaseLayout from "./BaseLayout.astro";

interface Props {
  title: string;
  description?: string;
  field?: "physics" | "chemistry" | "biology";
  date?: string;
}

const { title, description, field, date } = Astro.props;

const fieldLabels: Record<string, { label: string; class: string }> = {
  physics: { label: "物理 Physics", class: "tag-physics" },
  chemistry: { label: "化学 Chemistry", class: "tag-chemistry" },
  biology: { label: "生物 Biology", class: "tag-biology" },
};

const tag = field ? fieldLabels[field] : null;
---

<BaseLayout title={title} description={description}>
  <article class="mx-auto max-w-3xl px-6 py-12">
    <!-- Article Header -->
    <header class="mb-10">
      {tag && (
        <span class:list={["inline-block rounded-full px-3 py-1 text-xs font-mono font-medium mb-4", tag.class]}>
          {tag.label}
        </span>
      )}
      <h1 class="text-3xl font-bold text-gray-50 sm:text-4xl">{title}</h1>
      {description && <p class="mt-3 text-lg text-gray-400">{description}</p>}
      {date && <time class="mt-3 block text-sm text-gray-600 font-mono">{date}</time>}
    </header>

    <!-- Article Content -->
    <div class="prose">
      <slot />
    </div>

    <!-- Related Content (outside prose to avoid style inheritance) -->
    <slot name="related" />
  </article>
</BaseLayout>
