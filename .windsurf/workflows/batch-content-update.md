---
description: 批量内容更新工作流 - 同时更新多个相关文件
---

# 批量内容更新工作流

当需要批量更新相关内容时使用此工作流。

## 使用场景

1. **添加新食材专题**: 同时创建原理文章、多个菜谱、调试文章
2. **更新科学原理**: 修改某个科学概念后，更新所有相关菜谱
3. **格式统一**: 批量调整所有文件的格式

## 工作流程

### 步骤 1: 规划更新范围

使用 `todo_list` 创建任务清单：
- 确定要更新的文件列表
- 定义更新优先级
- 设置依赖关系

### 步骤 2: 备份当前状态

// turbo
创建备份分支：
```bash
git checkout -b backup-before-batch-update
git push origin backup-before-batch-update
```

### 步骤 3: 执行批量更新

按优先级顺序执行更新：
1. 先更新基础文件（如原理文章）
2. 再更新依赖文件（如菜谱）
3. 最后更新索引文件（如首页）

### 步骤 4: 验证更新结果

1. **构建验证**: 运行 `npm run build` 确保无错误
2. **链接验证**: 检查所有内部链接
3. **内容验证**: 确认更新内容正确

### 步骤 5: 提交和发布

1. 生成详细的 commit message
2. 推送到远程仓库
3. 执行构建和部署

## 错误恢复

如果更新过程中出现问题：
1. 立即停止更新
2. 评估影响范围
3. 使用备份分支恢复
4. 重新规划更新策略

## 示例：添加"豆腐"专题

```bash
# 任务清单
1. 创建豆腐科学原理文章
2. 创建麻婆豆腐菜谱
3. 创建家常豆腐菜谱  
4. 创建豆腐汤菜谱
5. 创建豆腐调试指南
6. 更新首页 featuredTopics
7. 验证所有链接
8. 构建和部署
```

## 最佳实践

1. **小步快跑**: 将大批量更新分解为小批次
2. **及时验证**: 每个步骤完成后立即验证
3. **保持备份**: 始终保留可回滚的备份
4. **文档记录**: 记录更新原因和内容
